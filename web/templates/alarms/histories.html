{% extends 'layout.html' %}

{% set title = '历史告警' %}

{% block head %} 

    <link rel="stylesheet" href="/static/css/alarm.css" type="text/css" media="all">

    {% from "_table_h.html" import render_table_profile %}

    <script type="text/javascript">
        {{ render_table_profile(table) }} 
    </script>

{% endblock %}

{% block screen_meta %} 

    {% from "_table_h.html" import render_screen_meta %}

    {{ render_screen_meta(table) }}

{% endblock %}

{% block content %}

{% from "_table_h.html" import render_table %}

<div class="row-fluid content">
    <div class="span2">
        {% set menuid = 'histories' %}
        {% include 'alarms/_sidebar.html' %}
    </div>
    <div class="span10">
        <div class="tablenav top">
            <div class="alignleft actions">
                <form id="history-query-form" class="form-inline filter-form" action="{{ url_for('alarms.histories') }}" method="GET">
                    {{ filterForm.alarm_class(class="input-small input-low") }}
                    {{ filterForm.start_date(class="input-small datepicker input-low", placeholder="开始日期",style="margin-bottom:1px;") }}
                    <label for='end_date'>-</label>
                    {{ filterForm.end_date(class="input-small datepicker input-low", placeholder="结束日期",style="margin-bottom:1px;") }}
                    {{ filterForm.keyword(placeholder='告警或节点名称', class="input-low") }}
                    <button type="submit" class="btn btn-small">检索</button>
                </form>
            </div>
            <br class="clear">
        </div>
        {{ render_table(table) }}
    </div>
</div>

<script type="text/javascript">
    $(".datepicker").datepicker({format: "yyyy-mm-dd"});
</script>

{% endblock %}

